function Fancychart(t,r,n,a){this.outerWidth=t||200,this.outerHeight=r||120,this.colors=n||["#00ACE4","#00D8A5","#9b59b6","#F1B719","#e74c3c"],this.color_deactivated=a||"#e5e5e5",this.color_current=Math.random()*n.length,this.duration=700}Fancychart.prototype.circles=function(t,r,n){var a=this,e=[r,100-parseInt(r)],o={top:14,right:10,bottom:20,left:10},n=(a.outerWidth-o.left-o.right,a.outerHeight-o.top-o.bottom,n||a.colors[Math.round(Math.random()*a.colors.length)]),i=14,l=13,u=4,d=1,c=[];e.forEach(function(t,r){for(;t--;){var e=0==r?n:a.color_deactivated;c.push({color:e})}});var s=d3.select(t).append("svg").attr("width",a.outerWidth).attr("height",a.outerHeight).append("g").attr("transform","translate("+o.left+","+o.top+")"),h=s.selectAll("circle").data(c).enter().append("circle").style("fill",function(t){return t.color}).attr("r",0).style("opacity",0).attr("cx",function(t,r){return d=r%l==0?r/l:d,(r+1-d*l)*i}).attr("cy",function(t,r){return d=r%l==0?r/l:d,d*i});h.transition().duration(a.duration).delay(function(t,r){return 15*r}).style("opacity",1).attr("r",u)},Fancychart.prototype.barHorizontal=function(t,r,n){var a=this,e=[100,parseInt(r)],o={top:20,right:0,bottom:0,left:10},i=a.outerWidth-o.left-o.right,l=a.outerHeight-o.top-o.bottom,n=n||a.colors[Math.round(Math.random()*a.colors.length)];marginInnerEl=12;var u=d3.scale.linear().range([0,i]).domain([0,d3.max(e,function(t){return t})]),d=d3.select(t).append("svg").attr("width",a.outerWidth).attr("height",a.outerHeight).append("g").attr("transform","translate("+o.left+","+(l-5)+") rotate(0)"),c=d.selectAll(".bar").data(e).enter().append("g").style("opacity",0).attr("transform",function(t,r){return marginEl=1==r?marginInnerEl/4:0,"translate("+marginEl+","+marginEl+")"}),s=c.append("rect").style("fill",function(t,r){var e=1==r?n:a.color_deactivated;return e}).attr("width",0).attr("height",function(t,r){return marginEl=1==r?marginInnerEl:0,l/4-marginEl/2}).attr("rx",marginInnerEl).attr("ry",marginInnerEl);c.transition().duration(a.duration).delay(function(t,r){return 200*r}).style("opacity",1),s.transition().duration(a.duration).ease("quad").delay(function(t,r){return 200*r}).attr("width",function(t,r){return marginEl=1==r?marginInnerEl:0,u(t)-marginEl})},Fancychart.prototype.barVertical=function(t,r,n,a){var e=this,o=[100,parseInt(r)],i=a?{top:20,right:70,bottom:20,left:5}:{top:20,right:50,bottom:1,left:10},l=e.outerWidth-i.left-i.right,u=e.outerHeight-i.top-i.bottom,a=a||!1,n=n||e.colors[Math.round(Math.random()*e.colors.length)];marginInnerEl=5;var d=d3.scale.linear().range([u,0]).domain([0,d3.max(o,function(t){return t})]),c=d3.select(t).append("svg").attr("width",e.outerWidth).attr("height",e.outerHeight).append("g").attr("transform",function(){var t=a?"translate("+(i.left+l/2)+",0) rotate(45)":"translate("+(i.left+l/2-u/2)+","+(i.top-10)+")";return t}),s=c.selectAll(".bar").data(o).enter().append("g").style("opacity",0).attr("transform",function(t,r){return marginEl=1==r?marginInnerEl:0,"translate("+marginEl+","+marginEl+")"}),h=s.append("rect").style("fill",function(t,r){var a=1==r?n:e.color_deactivated;return a}).attr("width",function(t,r){return marginEl=1==r?marginInnerEl:0,u-2*marginEl}).attr("y",function(){return u+marginInnerEl/2}).attr("height",function(){return 0}).attr("rx",marginInnerEl).attr("ry",marginInnerEl);s.transition().duration(e.duration).delay(function(t,r){return 200*r}).style("opacity",1),h.transition().duration(e.duration).ease("quad").delay(function(t,r){return 200*r}).attr("y",function(t){return d(t)}).attr("height",function(t,r){return marginEl=0==r?2*marginInnerEl:0,u-d(t)+marginEl})},Fancychart.prototype.donut=function(t,r,n){function a(t){var r={startAngle:0,endAngle:0},n=d3.interpolate(r,t);return function(t){return u(n(t))}}var e=this,o={top:25,right:50,bottom:1,left:5},i=e.outerWidth-o.left-o.right,l=e.outerHeight-o.top-o.bottom;radius=Math.min(i,l)/2,data=[r,100-r],n=n||e.colors[Math.round(Math.random()*e.colors.length)];var u=d3.svg.arc().outerRadius(radius).innerRadius(radius-10),d=d3.layout.pie().sort(null).value(function(t){return t}),c=d3.select(t).append("svg").attr("width",e.outerWidth).attr("height",e.outerHeight).append("g").attr("transform","translate("+(o.left+i/2)+","+(o.top+l/2)+")"),s=c.selectAll(".arc").data(d(data)).enter().append("g").style("opacity",0),h=s.append("path").attr("d",u).style("stroke-width","3px").style("stroke","#fff").style("fill",function(t,r){var a=0==r?n:e.color_deactivated;return a});s.transition().duration(e.duration).ease("quad").delay(function(t,r){return 200*r}).style("opacity",1),h.transition().duration(e.duration).ease("quad").attrTween("d",a)};